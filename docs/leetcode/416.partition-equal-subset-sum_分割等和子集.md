#### [416. åˆ†å‰²ç­‰å’Œå­é›†](https://leetcode.cn/problems/partition-equal-subset-sum/)

##### éš¾åº¦ä¸­ç­‰

ç»™ä½ ä¸€ä¸ªÂ **åªåŒ…å«æ­£æ•´æ•°**Â çš„Â **éç©º**Â æ•°ç»„Â `nums`Â ã€‚è¯·ä½ åˆ¤æ–­æ˜¯å¦å¯ä»¥å°†è¿™ä¸ªæ•°ç»„åˆ†å‰²æˆä¸¤ä¸ªå­é›†ï¼Œä½¿å¾—ä¸¤ä¸ªå­é›†çš„å…ƒç´ å’Œç›¸ç­‰ã€‚

**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** nums = [1,5,11,5]

**è¾“å‡ºï¼š** true

**è§£é‡Šï¼š** æ•°ç»„å¯ä»¥åˆ†å‰²æˆ [1, 5, 5] å’Œ [11] ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** nums = [1,2,3,5]

**è¾“å‡ºï¼š** false

**è§£é‡Šï¼š** æ•°ç»„ä¸èƒ½åˆ†å‰²æˆä¸¤ä¸ªå…ƒç´ å’Œç›¸ç­‰çš„å­é›†ã€‚

**æç¤ºï¼š**

-   `1 <= nums.length <= 200`
-   `1 <= nums[i] <= 100`

---- ----
#### ä¸€. DFS+memo: 
```cpp
class Solution {
public:
    bool canPartition(vector<int>& nums) {
        int sum = accumulate(nums.begin(), nums.end(), 0);
        if (sum % 2) return false;
        int target = sum / 2;
        int size = nums.size();
        
        // å¦‚æœæœ€å¤§çš„æ•°æ¯”ç›®æ ‡å€¼è¿˜å¤§ï¼Œé‚£ä¹ˆä¸å¯èƒ½åˆ†å‰²
        if (*max_element(nums.begin(), nums.end()) > target) return false;

        // ä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„æ¥å­˜å‚¨ä¸­é—´ç»“æœ
        vector<vector<int>> memo(size, vector<int>(target + 1, -1));
        
        function<bool(int, int)> dfs = [&](int index, int currentSum) -> bool {
            // å¦‚æœå½“å‰å’Œç­‰äºç›®æ ‡å€¼ï¼Œè¿”å›true
            if (currentSum == target) return true;
            // å¦‚æœè¶…å‡ºèŒƒå›´æˆ–è€…å·²ç»è¢«è®¡ç®—è¿‡ï¼Œç›´æ¥è¿”å›
            if (index >= size || currentSum > target ){
                return false;
            }
            if ( memo[index][currentSum] != -1) {
                return memo[index][currentSum] == 1;
            }
            
            // å°è¯•åŒ…å«å½“å‰å…ƒç´ 
            if (dfs(index + 1, currentSum + nums[index])) {
                memo[index][currentSum] = 1;  // å¯ä»¥è¾¾åˆ°ç›®æ ‡
                return true;
            }
            // å°è¯•ä¸åŒ…å«å½“å‰å…ƒç´ 
            if (dfs(index + 1, currentSum)) {
                memo[index][currentSum] = 1;  // ä¸åŒ…å«å½“å‰å…ƒç´ ä¹Ÿå¯ä»¥è¾¾åˆ°ç›®æ ‡
                return true;
            }
            
            // ä¸¤ç§æƒ…å†µéƒ½ä¸èƒ½è¾¾åˆ°ç›®æ ‡
            memo[index][currentSum] = 0;
            return false;
        };
        
        return dfs(0, 0);
    }
};
```

----
#### äºŒ. DP: dp\[i]\[j] = true è¡¨ç¤ºå‰iä¸ªç‰©å“å®¹é‡jè£…æ»¡
`dp[i][j]`è¡¨ç¤ºä»æ•°ç»„çš„Â `[0, i]`Â è¿™ä¸ªå­åŒºé—´å†…æŒ‘é€‰ä¸€äº›æ­£æ•´æ•°ï¼Œæ¯ä¸ªæ•°åªèƒ½ç”¨ä¸€æ¬¡ï¼Œä½¿å¾—è¿™äº›æ•°çš„å’Œ**æ°å¥½ç­‰äº**Â `j`ã€‚
##### 1.ç¡®å®šdpæ•°ç»„ä»¥åŠä¸‹æ ‡çš„å«ä¹‰
**`dp[i][j] = x`Â è¡¨ç¤ºï¼Œå¯¹äºå‰Â `i`Â ä¸ªç‰©å“ï¼ˆ`i`Â ä» 1 å¼€å§‹è®¡æ•°ï¼‰ï¼Œå½“å‰èƒŒåŒ…çš„å®¹é‡ä¸ºÂ `j`Â æ—¶ï¼Œè‹¥Â `x`Â ä¸ºÂ `true`ï¼Œåˆ™è¯´æ˜å¯ä»¥æ°å¥½å°†èƒŒåŒ…è£…æ»¡ï¼Œè‹¥Â `x`Â ä¸ºÂ `false`ï¼Œåˆ™è¯´æ˜ä¸èƒ½æ°å¥½å°†èƒŒåŒ…è£…æ»¡**ã€‚
> å¦‚æœdp\[4]\[9] = trueï¼Œå…¶å«ä¹‰ä¸ºï¼šå¯¹äºå®¹é‡ä¸º 9 çš„èƒŒåŒ…ï¼Œè‹¥åªæ˜¯ç”¨å‰ 4 ä¸ªç‰©å“ï¼Œå¯ä»¥æœ‰ä¸€ç§æ–¹æ³•æŠŠèƒŒåŒ…æ°å¥½è£…æ»¡ã€‚

##### 2.ç¡®å®šé€’æ¨å…¬å¼
å¦‚æœä¸æŠŠÂ `nums[i]`Â ç®—å…¥å­é›†ï¼Œ**æˆ–è€…è¯´ä½ ä¸æŠŠè¿™ç¬¬Â `i`Â ä¸ªç‰©å“è£…å…¥èƒŒåŒ…**ï¼Œé‚£ä¹ˆæ˜¯å¦èƒ½å¤Ÿæ°å¥½è£…æ»¡èƒŒåŒ…ï¼Œå–å†³äºä¸Šä¸€ä¸ªçŠ¶æ€Â `dp[i-1][j]`ï¼Œç»§æ‰¿ä¹‹å‰çš„ç»“æœã€‚
ä¸é€‰æ‹©Â `nums[i]`ï¼Œå¦‚æœåœ¨Â `[0, i - 1]`Â è¿™ä¸ªå­åŒºé—´å†…å·²ç»æœ‰ä¸€éƒ¨åˆ†å…ƒç´ ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œä¸ºÂ `j`Â ï¼Œé‚£ä¹ˆÂ `dp[i][j] = true`

å¦‚æœæŠŠÂ `nums[i]`Â ç®—å…¥å­é›†ï¼Œ**æˆ–è€…è¯´ä½ æŠŠè¿™ç¬¬Â `i`Â ä¸ªç‰©å“è£…å…¥äº†èƒŒåŒ…**ï¼Œé‚£ä¹ˆæ˜¯å¦èƒ½å¤Ÿæ°å¥½è£…æ»¡èƒŒåŒ…ï¼Œå–å†³äºçŠ¶æ€Â `dp[i-1][j-nums[i-1]]`ã€‚
é€‰æ‹©Â `nums[i]`ï¼Œå¦‚æœåœ¨Â `[0, i - 1]`Â è¿™ä¸ªå­åŒºé—´å†…å°±å¾—æ‰¾åˆ°ä¸€éƒ¨åˆ†å…ƒç´ ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œä¸ºÂ `j - nums[i]`

> PSï¼šç”±äºÂ `dp`Â æ•°ç»„å®šä¹‰ä¸­çš„Â `i`Â æ˜¯ä» 1 å¼€å§‹è®¡æ•°ï¼Œè€Œæ•°ç»„ç´¢å¼•æ˜¯ä» 0 å¼€å§‹çš„ï¼Œæ‰€ä»¥ç¬¬Â `i`Â ä¸ªç‰©å“çš„é‡é‡åº”è¯¥æ˜¯Â `nums[i-1]`ï¼Œè¿™ä¸€ç‚¹ä¸è¦ææ··ã€‚

`dp[i - 1][j-nums[i-1]]`Â ä¹Ÿå¾ˆå¥½ç†è§£ï¼šä½ å¦‚æœè£…äº†ç¬¬Â `i`Â ä¸ªç‰©å“ï¼Œå°±è¦çœ‹èƒŒåŒ…çš„å‰©ä½™é‡é‡Â `j - nums[i-1]`Â é™åˆ¶ä¸‹æ˜¯å¦èƒ½å¤Ÿè¢«æ°å¥½è£…æ»¡ã€‚

`dp[i][j] = dp[i - 1][j] || dp[i - 1][j - nums[i - 1]]`;

##### 3.dpçš„åˆå§‹åŒ–
base case å°±æ˜¯Â `dp[..][0] = true`Â å’ŒÂ `dp[0][..] = false`

##### 4.äºŒç»´DP
```cpp
class Solution {
public:
    bool canPartition(vector<int>& nums) {
        int sum = 0;
        for (auto & x: nums) {
            sum += x;
        }
        if (sum % 2 == 1){
            return false;
        }
        sum /= 2;
        std::vector<vector<bool>> dp(nums.size()+1, std::vector<bool>(sum+1 , false));
        for (int i = 0; i <= nums.size(); i++){
            dp[i][0] = true;
        }
        for (int i =1; i <= nums.size(); ++i) {
            for (int j = 0; j <= sum; ++j) {
                if (j-nums[i-1]>=0){
                    dp[i][j] = dp[i-1][j] || dp[i-1][j-nums[i-1]];
                } else {
                    dp[i][j] = dp[i-1][j];
                }
            }
        }
        return dp[nums.size()][sum];
    }
};
```

```cpp
Â  Â  bool canPartition(std::vector<int>& nums)Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  {Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  int sum = 0; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  for (auto x: nums) { Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  sum += x;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  }Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  if (sum %2 ==1) {Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  return false;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  }Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  sum /= 2;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  std::vector<std::vector<bool>> dp(nums.size(), std::vector<bool>(sum+1 ,false));Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  if (nums[0] <= sum) {Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  dp[0][nums[0]] = true; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  }Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  for (int i = 1; i < nums.size(); ++i) {Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  for (int j = 0; j <= sum; ++j) { Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  Â  Â  dp[i][j] = dp[i-1][j]; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  Â  Â  //å¦‚æœæŸä¸ªç‰©å“å•ç‹¬çš„é‡é‡æ°å¥½å°±ç­‰äºèƒŒåŒ…çš„é‡é‡ï¼Œé‚£ä¹ˆä¹Ÿæ˜¯æ»¡è¶³dpæ•°ç»„çš„å®šä¹‰çš„
Â  Â  Â  Â  Â  Â  Â  Â  if (nums[i] == j) {Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dp[i][j] = true; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  continue;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  Â  Â  }Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  Â  Â  //å¦‚æœæŸä¸ªç‰©å“çš„é‡é‡å°äºjï¼Œé‚£å°±å¯ä»¥çœ‹è¯¥ç‰©å“æ˜¯å¦æ”¾å…¥èƒŒåŒ…
Â  Â  Â  Â  Â  Â  Â  Â  //dp[i - 1][j]è¡¨ç¤ºè¯¥ç‰©å“ä¸æ”¾å…¥èƒŒåŒ…ï¼Œå¦‚æœåœ¨ [0, i - 1] è¿™ä¸ªå­åŒºé—´å†…å·²ç»æœ‰ä¸€éƒ¨åˆ†å…ƒç´ ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œä¸º j ï¼Œé‚£ä¹ˆ dp[i][j] = trueï¼›
Â  Â  Â  Â  Â  Â  Â  Â  //dp[i - 1][j - nums[i]]è¡¨ç¤ºè¯¥ç‰©å“æ”¾å…¥èƒŒåŒ…ã€‚å¦‚æœåœ¨ [0, i - 1] è¿™ä¸ªå­åŒºé—´å†…å°±å¾—æ‰¾åˆ°ä¸€éƒ¨åˆ†å…ƒç´ ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œä¸º j - nums[i]ã€‚
Â  Â  Â  Â  Â  Â  Â  Â  if (nums[i] < j) { Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dp[i][j] = dp[i-1][j] || dp[i-1][j-nums[i]]; Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  Â  Â  }Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  }Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  }Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  return dp[nums.size()-1][sum]; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  }
```
##### 5.ä¸€ç»´DP
dp[i] è¡¨ç¤ºæ˜¯å¦å­˜åœ¨å’Œä¸º i çš„ num ç»„åˆã€‚

å¤–å±‚éå† nums æ¯ä¸ª numï¼›
å†…å±‚éå† targetï¼ˆç”±å¤§åˆ°å°ï¼‰ã€‚

å¯¹äºå…ƒç´ ä¹‹å’Œç­‰äº i - num çš„æ¯ä¸€ç§ç»„åˆï¼Œåœ¨æœ€åæ·»åŠ  num ä¹‹åå³å¯å¾—åˆ°ä¸€ä¸ªå…ƒç´ ä¹‹å’Œç­‰äº i çš„ç»„åˆï¼Œå› æ­¤dp[i] ä¾èµ–äº dp[i - num]ï¼Œå¹¶ä¸”åœ¨è®¡ç®— dp[i - num] æ—¶ï¼Œè¦ä¿è¯ç´¢å¼•è¾ƒå°çš„å…ƒç´ å€¼ä¸è¢«è¦†ç›–ï¼Œéœ€è¦åå‘æ›´æ–° dp[i]ï¼Œå¹¶ä¸”å½“ i - num < i æ—¶ï¼Œ dp[i] å·²ç»æ›´æ–°è¿‡ï¼Œäºæ˜¯ï¼š

`dp[i] = dp[i] || dp[i - num]`

å¯¹äºç‰¹ä¾‹ï¼šå¦‚æœ sum ä¸ºå¥‡æ•°ï¼Œé‚£ä¸€å®šæ‰¾ä¸åˆ°ç¬¦åˆè¦æ±‚çš„å­é›†ï¼Œè¿”å› Falseã€‚

å¯¹äºè¾¹ç•Œæ¡ä»¶ï¼Œæˆ‘ä»¬å®šä¹‰ dp[0] = true è¡¨ç¤ºå½“ i - num = 0ï¼Œå­˜åœ¨ä¸€ä¸ª num å’Œä¸º iã€‚

æœ€åè¿”å› dp[target]ã€‚

```cpp
boolean canPartition(int[] nums)
{
    int sum = 0;
    for (int num : nums) sum += num;
    // å’Œä¸ºå¥‡æ•°æ—¶ï¼Œä¸å¯èƒ½åˆ’åˆ†æˆä¸¤ä¸ªå’Œç›¸ç­‰çš„é›†åˆ
    if (sum % 2 != 0) return false;
    int n = nums.length;
    sum = sum / 2;
    boolean[] dp = new boolean[sum + 1];
   
    // base case
    dp[0] = true;

    for (int i = 0; i < n; i++) {
        for (int j = sum; j >= 0; j--) {
            if (j - nums[i] >= 0) {
                dp[j] = dp[j] || dp[j - nums[i]];
            }
        }
    }
    return dp[sum];
}
```

```cpp
class Solution {
public:
    bool canPartition(vector<int>& nums) {
        int len = nums.size();
        int sum = 0;
        for (int num: nums) {
            sum += num;
        }
        if ((sum & 1) == 1) {
            return false;
        }

        int target = sum / 2;
        vector<bool> dp(target + 1);
        dp[0] = true;

        for(int num: nums){
            for(int i = target; i >= num; i--){
                dp[i] = dp[i] || dp[i - num];
            }
        }
        return dp[target];
       
    }
};
```

```cpp
âŒâŒâŒ
if (j >= nums[i-1]) {
    dp[j] = dp[j-nums[i-1]]; // ERROR âŒ
}
```

----
#### ä¸‰. ğŸ’ é€šè¿‡dpè·å–æœ€å¤§é‡é‡
1.dpæ•°ç»„å«ä¹‰:`dp[i][j]`ä¸ºèƒŒåŒ…é‡é‡ä¸ºjæ—¶ï¼Œä»[0-i]å…ƒç´ å’Œæœ€å¤§å€¼
ç”¨0-1èƒŒåŒ…çš„æ€æƒ³ï¼Œç”¨äºŒç»´æ•°ç»„`dp[i][j]`è¡¨ç¤ºç¬¬å‰iä¸ªå…ƒç´ ï¼Œèƒ½è£…ä¸‹çš„æœ€å¤§çš„ä»·å€¼ï¼›

2.é¦–å…ˆï¼Œåˆå§‹åŒ–ç¬¬0ä¸ªå…ƒç´ ï¼Œå½“jå¤§äºç¬¬ä¸€ä¸ªå…ƒç´ çš„`nums[0]`æ—¶ï¼Œ`dp[0][j]=nums[0]`
åˆå§‹åŒ–ï¼š`dp[i][0]`åˆå§‹åŒ–ä¸º0ã€‚å› ä¸ºèƒŒåŒ…é‡é‡ä¸º0æ—¶ï¼Œä¸å¯èƒ½æ”¾å…¥å…ƒç´ ã€‚`dp[0][j] = nums[0]`ï¼Œ
å½“èƒŒåŒ…é‡é‡jå¤§äºç¬¬ä¸€ä¸ªå…ƒç´ nums[0]æ—¶ï¼Œå¯ä»¥åœ¨`dp[0][j]`ä¸­æ”¾å…¥å…ƒç´ `nums[0]`

3.ç„¶åï¼Œé€šè¿‡ åˆ¤æ–­ `j > nums[i]` æ—¶ï¼Œå– `dp[i-1][j-nums[i]]+nums[i]`
æˆ–è€… å–ä¸Šä¸€ä¸ªå…ƒç´ å¾—åˆ°çš„æœ€å¤§å€¼ `dp[i-1][j]`

å–ä»–ä»¬ä¸­æ›´å¤§çš„ä¸€ä¸ªï¼›
é€’æ¨å…¬å¼ï¼š`dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - nums[i]] + nums[i])`

4.éå†é¡ºåºï¼šå…ˆéå†ç‰©å“ï¼Œå†éå†èƒŒåŒ…

##### 3.1 dpè·å–æœ€å¤§é‡é‡äºŒç»´max
```cpp

1. dpæ•°ç»„å«ä¹‰ï¼šdp[i][j]ä¸ºèƒŒåŒ…é‡é‡ä¸ºjæ—¶ï¼Œä»[0-i]å…ƒç´ å’Œæœ€å¤§å€¼
2. é€’æ¨å…¬å¼ï¼šdp[i][j] = max(dp[i - 1][j], dp[i - 1][j - nums[i]] + nums[i])
3. åˆå§‹åŒ–ï¼šdp[i][0]åˆå§‹åŒ–ä¸º0ã€‚å› ä¸ºèƒŒåŒ…é‡é‡ä¸º0æ—¶ï¼Œä¸å¯èƒ½æ”¾å…¥å…ƒç´ ã€‚dp[0][j] = nums[0]ï¼Œå½“j >= nums[0] && j < targetæ—¶
4. éå†é¡ºåºï¼šå…ˆéå†ç‰©å“ï¼Œå†éå†èƒŒåŒ…

class Solution {Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
public:Â 
Â  Â  bool canPartition(std::vector<int>& nums)
Â  Â  {Â  Â 
Â  Â  Â  Â  int sum = 0;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  for (auto x: nums) {Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  sum += x; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  } Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  if (sum %2 ==1) { Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  return false; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  } Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  sum /= 2; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  std::vector<std::vector<int>> dp(nums.size(), std::vector<int>(sum+1 , 0));
Â  Â  Â  Â  // å½“èƒŒåŒ…é‡é‡jå¤§äºnums[0]æ—¶ï¼Œå¯ä»¥åœ¨dp[0][j]ä¸­æ”¾å…¥å…ƒç´ nums[0]Â 
Â  Â  Â  Â  for(int j = nums[0]; j <= sum; ++j) {
Â  Â  Â  Â  Â  Â  dp[0][j] = nums[0]; Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  } Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  for(int i = 1; i < nums.size(); ++i) {Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  for(int j = 1; j <= sum; ++j) { Â 
Â  Â  Â  Â  Â  Â  Â  Â  // è‹¥å½“å‰èƒŒåŒ…é‡é‡jå°äºnums[i]ï¼Œåˆ™å…¶å€¼ç­‰äºåªè€ƒè™‘0åˆ°i-1ç‰©å“æ—¶çš„å€¼
Â  Â  Â  Â  Â  Â  Â  Â  if(j < nums[i]) {Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dp[i][j] = dp[i - 1][j];Â 
Â  Â  Â  Â  Â  Â  Â  Â  // å¦åˆ™ï¼ŒèƒŒåŒ…é‡é‡ç­‰äºåœ¨èƒŒåŒ…ä¸­æ”¾å…¥num[i]/ä¸æ”¾å…¥nums[i]çš„è¾ƒå¤§å€¼
Â  Â  Â  Â  Â  Â  Â  Â  } elseÂ { Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dp[i][j] = std::max(dp[i - 1][j], dp[i - 1][jÂ  - nums[i]] + nums[i]);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  } Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  // åˆ¤æ–­èƒŒåŒ…é‡é‡ä¸ºtargetï¼Œä¸”è€ƒè™‘åˆ°æ‰€æœ‰ç‰©å“æ—¶ï¼Œæ”¾å…¥çš„å…ƒç´ å’Œæ˜¯å¦ç­‰äºtarget
Â  Â  Â  Â  return dp[nums.size()- 1][sum] == sum;
Â  Â  } Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
};
```

```cpp
class Solution {
public:
    bool canPartition(vector<int>& nums) {
        int size = nums.size();
        int sum = accumulate(nums.begin(),nums.end(), 0);
        if (sum %2) {
            return false;
        }
        int target = sum/2;
        if (*max_element(nums.begin(), nums.end()) > target) {
            return false;
        }
        vector<vector<int>> dp(size, vector<int>(target+1, 0));
        for (int j = 0; j <= target; j++) {
            dp[0][j] = j >= nums[0]? nums[0]: 0;
        }
        for(int i = 1; i < size; ++i) {
            int t = nums[i];
            for (int j = 0; j <= target; ++j) {
                int no = dp[i-1][j];
                int yes = j > t? dp[i-1][j-t] + t: 0;
                dp[i][j] = max(no, yes);
            }
        }
        return dp[size-1][target] == target;
    }
};
```

##### 3.2 dpè·å–æœ€å¤§é‡é‡ä¸€ç»´max

1.ç¡®å®šdpæ•°ç»„ä»¥åŠä¸‹æ ‡çš„å«ä¹‰

01èƒŒåŒ…ä¸­ï¼Œdp[j] è¡¨ç¤ºï¼š å®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œæ‰€èƒŒçš„ç‰©å“ä»·å€¼æœ€å¤§å¯ä»¥ä¸ºdp[j]ã€‚

æœ¬é¢˜ä¸­æ¯ä¸€ä¸ªå…ƒç´ çš„æ•°å€¼æ—¢æ˜¯é‡é‡ï¼Œä¹Ÿæ˜¯ä»·å€¼ã€‚

**å¥—åˆ°æœ¬é¢˜ï¼Œdp[j]è¡¨ç¤º èƒŒåŒ…æ€»å®¹é‡ï¼ˆæ‰€èƒ½è£…çš„æ€»é‡é‡ï¼‰æ˜¯jï¼Œæ”¾è¿›ç‰©å“åï¼ŒèƒŒçš„æœ€å¤§é‡é‡ä¸ºdp[j]**ã€‚

2.ç¡®å®šé€’æ¨å…¬å¼

01èƒŒåŒ…çš„é€’æ¨å…¬å¼ä¸ºï¼š`dp[j] = max(dp[j], dp[j - weight[i]] + value[i])`;

æœ¬é¢˜ï¼Œç›¸å½“äºèƒŒåŒ…é‡Œæ”¾å…¥æ•°å€¼ï¼Œé‚£ä¹ˆç‰©å“içš„é‡é‡æ˜¯nums[i]ï¼Œå…¶ä»·å€¼ä¹Ÿæ˜¯nums[i]ã€‚

æ‰€ä»¥é€’æ¨å…¬å¼ï¼š`dp[j] = max(dp[j], dp[j - nums[i]] + nums[i])`;

```cpp

class Solution {
public:
    bool canPartition(vector<int>& nums) {
        int sum = 0;

        // dp[i]ä¸­çš„iè¡¨ç¤ºèƒŒåŒ…å†…æ€»å’Œ
        // é¢˜ç›®ä¸­è¯´ï¼šæ¯ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ ä¸ä¼šè¶…è¿‡ 100ï¼Œæ•°ç»„çš„å¤§å°ä¸ä¼šè¶…è¿‡ 200
        // æ€»å’Œä¸ä¼šå¤§äº20000ï¼ŒèƒŒåŒ…æœ€å¤§åªéœ€è¦å…¶ä¸­ä¸€åŠï¼Œæ‰€ä»¥10001å¤§å°å°±å¯ä»¥äº†
        vector<int> dp(10001, 0);
        for (int i = 0; i < nums.size(); i++) {
            sum += nums[i];
        }
        // ä¹Ÿå¯ä»¥ä½¿ç”¨åº“å‡½æ•°ä¸€æ­¥æ±‚å’Œ
        // int sum = accumulate(nums.begin(), nums.end(), 0);
        if (sum % 2 == 1) return false;
        int target = sum / 2;

        // å¼€å§‹ 01èƒŒåŒ…
        for(int i = 0; i < nums.size(); i++) {
            for(int j = target; j >= nums[i]; j--) { // æ¯ä¸€ä¸ªå…ƒç´ ä¸€å®šæ˜¯ä¸å¯é‡å¤æ”¾å…¥ï¼Œæ‰€ä»¥ä»å¤§åˆ°å°éå†
                dp[j] = max(dp[j], dp[j - nums[i]] + nums[i]);
            }
        }
        // é›†åˆä¸­çš„å…ƒç´ æ­£å¥½å¯ä»¥å‡‘æˆæ€»å’Œtarget
        if (dp[target] == target) return true;
        return false;
    }
};
```
#DynamicProgramming; #èƒŒåŒ…; 
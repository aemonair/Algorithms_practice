[97. äº¤é”™å­—ç¬¦ä¸²](https://leetcode.cn/problems/interleaving-string/)

ä¸­ç­‰

ç»™å®šä¸‰ä¸ªå­—ç¬¦ä¸²Â `s1`ã€`s2`ã€`s3`ï¼Œè¯·ä½ å¸®å¿™éªŒè¯Â `s3`Â æ˜¯å¦æ˜¯ç”±Â `s1`Â å’ŒÂ `s2`Â **äº¤é”™**Â ç»„æˆçš„ã€‚

ä¸¤ä¸ªå­—ç¬¦ä¸²Â `s`Â å’ŒÂ `t`Â **äº¤é”™**Â çš„å®šä¹‰ä¸è¿‡ç¨‹å¦‚ä¸‹ï¼Œå…¶ä¸­æ¯ä¸ªå­—ç¬¦ä¸²éƒ½ä¼šè¢«åˆ†å‰²æˆè‹¥å¹²Â **éç©º**Â å­å­—ç¬¦ä¸²ï¼š

- `s = s1 + s2 + ... + sn`
- `t = t1 + t2 + ... + tm`
- `|n - m| <= 1`
- **äº¤é”™**Â æ˜¯Â `s1 + t1 + s2 + t2 + s3 + t3 + ...`Â æˆ–è€…Â `t1 + s1 + t2 + s2 + t3 + s3 + ...`

**æ³¨æ„ï¼š**`a + b`Â æ„å‘³ç€å­—ç¬¦ä¸²Â `a`Â å’ŒÂ `b`Â è¿æ¥ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2020/09/02/interleave.jpg)

**è¾“å…¥ï¼š** s1 = "aabcc", s2 = "dbbca", s3 = "aadbbcbcac"  
**è¾“å‡ºï¼š** true  

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** s1 = "aabcc", s2 = "dbbca", s3 = "aadbbbaccc"  
**è¾“å‡ºï¼š** false  

**ç¤ºä¾‹ 3ï¼š**

**è¾“å…¥ï¼š** s1 = "", s2 = "", s3 = ""  
**è¾“å‡ºï¼š** true  

**æç¤ºï¼š**

- `0 <= s1.length, s2.length <= 100`
- `0 <= s3.length <= 200`
- `s1`ã€`s2`ã€å’ŒÂ `s3`Â éƒ½ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

**è¿›é˜¶ï¼š** æ‚¨èƒ½å¦ä»…ä½¿ç”¨Â `O(s2.length)`Â é¢å¤–çš„å†…å­˜ç©ºé—´æ¥è§£å†³å®ƒ?

---- ----
æ­£å‘åŠ¨æ€è§„åˆ’ï¼š
```cpp
class Solution {
public:
    bool isInterleave(string s1, string s2, string s3) {
        int m = s1.size();
        int n = s2.size();
        int o = s3.size();
        if (m+n != o) {
            return false;
        }

        vector dp(m+1, vector<int>(n+1));
        dp[0][0] = true;
        for (int i = 1; i <= m && s1[i-1]==s3[i-1]; ++i) {
            dp[i][0] = true;
        }
        
        for (int j = 1; j <= n && s2[j-1]==s3[j-1]; ++j) {
            dp[0][j] = true;
        }

        for (int i = 1; i <= m; ++i) {
            for (int j= 1; j <= n; ++j) {
                int k = i+j;
                if (s1[i-1]==s3[k-1]) {
                    dp[i][j] = dp[i-1][j] || dp[i][j];
                }
                if (s2[j-1]==s3[k-1]) {
                    dp[i][j] = dp[i][j-1] || dp[i][j];
                }
            }
        }
        return dp[m][n];
    }
};
```

è®°å¿†åŒ–æœç´¢ğŸ” ï¼š 
DFS + ç”¨visè®°å½•è®¿é—®è¿‡çš„ç»“æœï¼›

```cpp
class Solution {
public:
    bool isInterleave(string s1, string s2, string s3) {
        int m = s1.size();
        int n = s2.size();
        if (m+n != s3.size()) {
            return false;
        }
        // ä¸»è¦æ˜¯ç”¨visè®°å½•ç»“æœ
        vector vis(m+1, vector<int>(n+1, -1));
        
        auto dfs = [&](this auto &&dfs, int i, int j) -> int {
            int k = i + j;
            if (i == m && j == n) {
                vis[m][n] = true;
                return true;
            }
            // è¿™é‡ŒåŠ äº†åˆ¤æ–­ï¼Œå‡å°‘äº†è¶…æ—¶ï¼Œ
            // æ˜¯ å› ä¸ºæ¯æ¬¡dfsæ—¶å¯èƒ½ä¼šå‡ºç°é‡å¤çš„å­é—®é¢˜ï¼›
            if (vis[i][j] != -1) {
                return vis[i][j];
            }
            if (i < m && s1[i] == s3[k]) {
                if (dfs(i+1, j)) {
                    vis[i+1][j] = true;
                    return true;
                }
            }
            if (j < n && s2[j] == s3[k]) {
                if (dfs(i, j+1)) {
                    vis[i][j+1] = true;
                    return true;
                }
            }
            vis[i][j] = false;
            return false;
        };
        return dfs(0, 0);
    }
};
```

----

```cpp
class Solution {
public:
    bool isInterleave(string s1, string s2, string s3) {
        int m = s1.size();
        int n = s2.size();
        int o = s3.size();

        vector dp(m+1, vector(n+1, vector<int>(o+1)));
        dp[0][0][0] = true;
        for (int i = 1; i <= m && s1[i-1]==s3[i-1]; ++i) {
            dp[i][0][i] = true;
        }
        
        for (int j = 1; j <= n && s2[j-1]==s3[j-1]; ++j) {
            dp[0][j][j] = true;
        }

        for (int i = 1; i <= m; ++i) {
            for (int j= 1; j <= n; ++j) {
                for (int k=1; k <= o; ++k) {
                    if (s1[i-1]==s3[k-1]) {
                        dp[i][j][k] = dp[i-1][j][k-1] || dp[i][j][k];
                    }
                    if (s2[j-1]==s3[k-1]) {
                        dp[i][j][k] = dp[i][j-1][k-1] || dp[i][j][k];
                    }
                }
            }
        }
        return dp[m][n][o];
    }
};
```

```cpp
class Solution {
public:
    bool isInterleave(string s1, string s2, string s3) {
        // è¶…æ—¶
        int m = s1.size();
        int n = s2.size();
        
        auto dfs = [&](this auto &&dfs, int i, int j, int k) {
            if (k == o && i == m && j == n) {
                return true;
            }
            if (i < m && s1[i] != s3[k] && j < n && s2[j] != s3[k]) {
                return false;
            }
            if (i < m && s1[i] == s3[k]) {
                if (dfs(i+1, j, k+1)) {
                    return true;
                }
            }
            if (j < n && s2[j] == s3[k]) {
                if (dfs(i, j+1, k+1)) {
                    return true;
                }
            }
            return false;
        };
        return dfs(0,0,0);
    }
};
```
#top-interview-150; #dynamic-programming;  
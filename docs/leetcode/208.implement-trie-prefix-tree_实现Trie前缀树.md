[208. å®ç° Trie (å‰ç¼€æ ‘)](https://leetcode.cn/problems/implement-trie-prefix-tree/)

ä¸­ç­‰

**[Trie](https://baike.baidu.com/item/%E5%AD%97%E5%85%B8%E6%A0%91/9825209?fr=aladdin)**ï¼ˆå‘éŸ³ç±»ä¼¼ "try"ï¼‰æˆ–è€…è¯´Â **å‰ç¼€æ ‘**Â æ˜¯ä¸€ç§æ ‘å½¢æ•°æ®ç»“æ„ï¼Œç”¨äºé«˜æ•ˆåœ°å­˜å‚¨å’Œæ£€ç´¢å­—ç¬¦ä¸²æ•°æ®é›†ä¸­çš„é”®ã€‚è¿™ä¸€æ•°æ®ç»“æ„æœ‰ç›¸å½“å¤šçš„åº”ç”¨æƒ…æ™¯ï¼Œä¾‹å¦‚è‡ªåŠ¨è¡¥å…¨å’Œæ‹¼å†™æ£€æŸ¥ã€‚

è¯·ä½ å®ç° Trie ç±»ï¼š

- `Trie()`Â åˆå§‹åŒ–å‰ç¼€æ ‘å¯¹è±¡ã€‚
- `void insert(String word)`Â å‘å‰ç¼€æ ‘ä¸­æ’å…¥å­—ç¬¦ä¸²Â `word`Â ã€‚
- `boolean search(String word)`Â å¦‚æœå­—ç¬¦ä¸²Â `word`Â åœ¨å‰ç¼€æ ‘ä¸­ï¼Œè¿”å›Â `true`ï¼ˆå³ï¼Œåœ¨æ£€ç´¢ä¹‹å‰å·²ç»æ’å…¥ï¼‰ï¼›å¦åˆ™ï¼Œè¿”å›Â `false`Â ã€‚
- `boolean startsWith(String prefix)`Â å¦‚æœä¹‹å‰å·²ç»æ’å…¥çš„å­—ç¬¦ä¸²Â `word`Â çš„å‰ç¼€ä¹‹ä¸€ä¸ºÂ `prefix`Â ï¼Œè¿”å›Â `true`Â ï¼›å¦åˆ™ï¼Œè¿”å›Â `false`Â ã€‚

**ç¤ºä¾‹ï¼š**

**è¾“å…¥**
```
["Trie", "insert", "search", "search", "startsWith", "insert", "search"]
[[], ["apple"], ["apple"], ["app"], ["app"], ["app"], ["app"]]
```
**è¾“å‡º**
```
[null, null, true, false, true, null, true]
```

**è§£é‡Š**
```
Trie trie = new Trie();
trie.insert("apple");
trie.search("apple");   // è¿”å› True
trie.search("app");     // è¿”å› False
trie.startsWith("app"); // è¿”å› True
trie.insert("app");
trie.search("app");     // è¿”å› True
```

**æç¤ºï¼š**

- `1 <= word.length, prefix.length <= 2000`
- `word`Â å’ŒÂ `prefix`Â ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ
- `insert`ã€`search`Â å’ŒÂ `startsWith`Â è°ƒç”¨æ¬¡æ•°Â **æ€»è®¡**Â ä¸è¶…è¿‡Â `3 * 10â´`Â æ¬¡

---- ----
### ä»äºŒå‰æ ‘åˆ°äºŒåå…­å‰æ ‘
åˆå§‹åŒ–ï¼šåˆ›å»ºä¸€æ£µ 26 å‰æ ‘ï¼Œä¸€å¼€å§‹åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ rootã€‚26 å‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸€ä¸ªé•¿ä¸º 26 çš„å„¿å­èŠ‚ç‚¹åˆ—è¡¨ sonï¼Œä»¥åŠä¸€ä¸ªå¸ƒå°”å€¼ endï¼Œè¡¨ç¤ºæ˜¯å¦ä¸ºç»ˆæ­¢èŠ‚ç‚¹ã€‚

- insertï¼š
    1. éå†å­—ç¬¦ä¸² wordï¼ŒåŒæ—¶ç”¨ä¸€ä¸ªå˜é‡ cur è¡¨ç¤ºå½“å‰åœ¨ 26 å‰æ ‘çš„å“ªä¸ªèŠ‚ç‚¹ï¼Œåˆå§‹å€¼ä¸º rootã€‚
    2. å¦‚æœ `word[i]` ä¸æ˜¯ cur çš„å„¿å­ï¼Œé‚£ä¹ˆåˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ node ä½œä¸º cur çš„å„¿å­ã€‚å¦‚æœ `word[i]=a`ï¼Œé‚£ä¹ˆæŠŠ node è®°å½•åˆ° cur çš„ `son[0]` ä¸­ã€‚å¦‚æœ `word[i]=b`ï¼Œé‚£ä¹ˆæŠŠ node è®°å½•åˆ° cur çš„ `son[1]` ä¸­ã€‚ä¾æ­¤ç±»æ¨ã€‚
    3. æ›´æ–° cur ä¸ºå„¿å­åˆ—è¡¨ä¸­çš„ç›¸åº”èŠ‚ç‚¹ã€‚
    4. éå†ç»“æŸï¼ŒæŠŠ cur çš„ end æ ‡è®°ä¸º trueã€‚
- `search` å’Œ `startsWith` å¯ä»¥å¤ç”¨åŒä¸€ä¸ªå‡½æ•° findï¼š
    1. éå†å­—ç¬¦ä¸² wordï¼ŒåŒæ—¶ç”¨ä¸€ä¸ªå˜é‡ cur è¡¨ç¤ºå½“å‰åœ¨ 26 å‰æ ‘çš„å“ªä¸ªèŠ‚ç‚¹ï¼Œåˆå§‹å€¼ä¸º rootã€‚
    2. å¦‚æœ `word[i]` ä¸æ˜¯ cur çš„å„¿å­ï¼Œè¿”å› 0ã€‚search å’Œ startsWith æ”¶åˆ° 0 ä¹‹åè¿”å› falseã€‚
    3. æ›´æ–° cur ä¸ºå„¿å­åˆ—è¡¨ä¸­çš„ç›¸åº”èŠ‚ç‚¹ã€‚
    4. éå†ç»“æŸï¼Œå¦‚æœ cur çš„ end æ˜¯ falseï¼Œè¿”å› 1ï¼Œå¦åˆ™è¿”å› 2ã€‚search å¦‚æœæ”¶åˆ°çš„æ˜¯ 2ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚startsWith å¦‚æœæ”¶åˆ°çš„æ˜¯é 0 æ•°å­—ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚  cur ä¸ºç»“æŸè¿”å›2ï¼Œ ä¸ç»“æŸè¿”å›1

[ä»äºŒå‰æ ‘åˆ°äºŒåå…­å‰æ ‘ - çµèŒ¶å±±è‰¾åºœ](https://leetcode.cn/problems/implement-trie-prefix-tree/solutions/2993894/cong-er-cha-shu-dao-er-shi-liu-cha-shu-p-xsj4/)

```cpp
class Trie {
public:
    struct Node {
        Node* son[26]{};
        bool end = false;
    };
    Node * root = nullptr;
    int find (string word) {
        Node * curr = root;
        for (auto c: word) {
            c -= 'a';
            if (curr->son[c] == nullptr) {
                return 0;
            }
            curr = curr->son[c];
        }
        return curr->end? 2: 1; // currä¸ºç»“æŸè¿”å›2ï¼Œ ä¸ç»“æŸè¿”å›1
    }

    Trie() {
        root = new Node();
    }

    void insert(string word) {
        Node *curr = root;
        for (auto c: word) {
            c -= 'a';
            if (curr->son[c] == nullptr) {
                curr->son[c] = new Node();
            }
            curr = curr->son[c];
        }
        curr->end = true;
    }

    bool search(string word) {
        return find(word) == 2;
    }

    bool startsWith(string prefix) {
        return find(prefix) != 0;
    }
};

/**
 * Your Trie object will be instantiated and called as such:
 * Trie* obj = new Trie();
 * obj->insert(word);
 * bool param_2 = obj->search(word);
 * bool param_3 = obj->startsWith(prefix);
 */
 ```

----
```cpp
class Trie {
private:
    bool isEnd;
    Trie * next[26];
public:
    Trie():isEnd(false) {
        bzero(next, sizeof(next));
    }
    
    void insert(string word) {
        Trie * node = this;
        for (char c: word) {
            if (node->next[c-'a'] == nullptr) {
                node->next[c-'a']=new Trie();
            }
            node = node->next[c-'a'];
        }
        node->isEnd = true;
    }
    
    bool search(string word) {
        Trie * node = this;
        for (auto c: word) {
            node = node->next[c-'a'];
            if (node == nullptr) {
                return false;
            }
        }
        return node->isEnd;
    }
    
    bool startsWith(string prefix) {
        Trie * node = this;
        for (auto c: prefix) {
            node = node->next[c-'a'];
            if (node == nullptr) {
                return false;
            }
        }
        return true;
    }
};

/**
 * Your Trie object will be instantiated and called as such:
 * Trie* obj = new Trie();
 * obj->insert(word);
 * bool param_2 = obj->search(word);
 * bool param_3 = obj->startsWith(prefix);
 */
```
è€Œ Trie çš„ç»“ç‚¹æ˜¯è¿™æ ·çš„(å‡è®¾åªåŒ…å«'a'~'z'ä¸­çš„å­—ç¬¦)ï¼š
```cpp
struct TrieNode {
    bool isEnd; //è¯¥ç»“ç‚¹æ˜¯å¦æ˜¯ä¸€ä¸ªä¸²çš„ç»“æŸ
    TrieNode* next[26]; //å­—æ¯æ˜ å°„è¡¨
};
```
è¦æƒ³å­¦ä¼š Trie å°±å¾—å…ˆæ˜ç™½å®ƒçš„ç»“ç‚¹è®¾è®¡ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°TrieNodeç»“ç‚¹ä¸­å¹¶æ²¡æœ‰ç›´æ¥ä¿å­˜å­—ç¬¦å€¼çš„æ•°æ®æˆå‘˜ï¼Œé‚£å®ƒæ˜¯æ€ä¹ˆä¿å­˜å­—ç¬¦çš„å‘¢ï¼Ÿ

è¿™æ—¶å­—æ¯æ˜ å°„è¡¨next çš„å¦™ç”¨å°±ä½“ç°äº†ï¼ŒTrieNode* next[26]ä¸­ä¿å­˜äº†å¯¹å½“å‰ç»“ç‚¹è€Œè¨€ä¸‹ä¸€ä¸ªå¯èƒ½å‡ºç°çš„æ‰€æœ‰å­—ç¬¦çš„é“¾æ¥ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªçˆ¶ç»“ç‚¹æ¥é¢„çŸ¥å®ƒæ‰€æœ‰å­ç»“ç‚¹çš„å€¼ï¼š

[Trie Tree çš„å®ç° (é€‚åˆåˆå­¦è€…)ğŸŒ³ - è·¯æ¼«æ¼«æˆ‘ä¸ç•](https://leetcode.cn/problems/implement-trie-prefix-tree/solutions/98390/trie-tree-de-shi-xian-gua-he-chu-xue-zhe-by-huwt/)

----

[æ¨¡æ¿+å˜å¼-å¸¦ä½ å½»åº•ææ‡‚å­—å…¸æ ‘-samarua](https://blog.csdn.net/m0_46202073/article/details/107253959)

#Leetcode-75; #Trie; #top-100-liked; 